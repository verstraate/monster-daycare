[gd_scene load_steps=10 format=3 uid="uid://bi7aj25brt7l6"]

[ext_resource type="PackedScene" uid="uid://33dpkdbpx7lf" path="res://_Scenes/UI/ui.tscn" id="1_65hya"]
[ext_resource type="Script" uid="uid://btclhvrlpb346" path="res://_Scenes/Game/game.gd" id="1_tkjlu"]
[ext_resource type="PackedScene" uid="uid://ds0fdr74n7wjs" path="res://_Scenes/MoneyManager/money_manager.tscn" id="2_c7f46"]
[ext_resource type="Script" uid="uid://bdf53j15bvv1f" path="res://Scripts/Resources/Monsters/base_monster.gd" id="4_6a16g"]
[ext_resource type="Script" uid="uid://uccsi2kteeqn" path="res://_Scenes/Game/progression_manager.gd" id="4_cl16e"]
[ext_resource type="Resource" uid="uid://bq63fe1u7chxe" path="res://Resources/Monsters/salamander.tres" id="5_3ebme"]
[ext_resource type="Resource" uid="uid://bqp3ucknwv2rc" path="res://Resources/Monsters/sylph.tres" id="6_eaye3"]
[ext_resource type="Resource" uid="uid://4gclqar1tqq5" path="res://Resources/Monsters/undine.tres" id="7_yi3ji"]
[ext_resource type="Material" uid="uid://pjns3nq2o8h" path="res://_Scenes/RandomEvent/event_overlay.tres" id="9_3ebme"]

[node name="Game" type="Node2D"]
script = ExtResource("1_tkjlu")

[node name="Events" type="Node2D" parent="."]

[node name="MoneyManager" parent="." instance=ExtResource("2_c7f46")]
process_mode = 3
starting_money = "100"

[node name="ProgressionManager" type="Node2D" parent="." groups=["Persist"]]
process_mode = 3
script = ExtResource("4_cl16e")
locked_monsters = Array[ExtResource("4_6a16g")]([ExtResource("5_3ebme"), ExtResource("6_eaye3"), ExtResource("7_yi3ji")])

[node name="UI" parent="." instance=ExtResource("1_65hya")]

[node name="EventOverlay" type="CanvasLayer" parent="."]
layer = 2
visible = false

[node name="Shader" type="ColorRect" parent="EventOverlay"]
material = ExtResource("9_3ebme")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TrainingParent" type="CanvasLayer" parent="."]
layer = 5

[node name="SaveGame" type="Timer" parent="."]
wait_time = 10.0
one_shot = true

[node name="SpawnRandomEvent" type="Timer" parent="."]
one_shot = true
ignore_time_scale = true

[connection signal="timeout" from="SaveGame" to="." method="_on_save_game_timeout"]
[connection signal="timeout" from="SpawnRandomEvent" to="." method="_on_spawn_random_event_timeout"]
